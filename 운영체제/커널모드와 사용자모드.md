# Kernel mode(커널 모드), User mode(사용자 모드) 

> 운영체제의 핵심인 **커널(kernel)** 은 하드웨어와 사용자 프로그램 사이에서 인터페이스를 제공하고, 컴퓨터 자원을 관리하는 역할을 합니다. 
> 사용자 프로그램이 커널이 관리하는 자원에 접근하려고 할 때, **시스템 콜 인터페이스**(System Call Interface)를 통해 커널에 요청을 보냅니다. 이때 **듀얼 모드**(Dual Mode) 방식으로 CPU는 명령어를 실행하는 모드를 크게 **커널 모드**(Kernel Mode)와 **사용자 모드**(User Mode)로 나눕니다.
## kernel mode
> 커널 모드에서는 CPU가 모든 명령어를 실행할 수 있으며, 특히 하드웨어 자원에 직접 접근할 수 있는 명령어를 실행할 수 있습니다. 이는 운영체제의 핵심 기능들이 수행되는 모드로, 메모리 관리, 프로세스 스케줄링, 파일 시스템 관리 등의 작업이 커널 모드에서 이루어집니다.

**주요 특징**:

- 모든 CPU 명령어 실행 가능
- 하드웨어 자원에 직접 접근 가능
- 시스템 크래시 발생 시 전체 시스템에 영향을 미칠 수 있음
## user mode
> user mode는 응용 프로그램이 실행되는 모드로, 하드웨어 자원에 직접 접근할 수 없습니다. 대신, 시스템 콜을 통해 커널의 서비스를 요청하게 됩니다. 사용자 모드에서 실행되는 프로그램은 제한된 권한으로 동작하며, 이러한 제한은 시스템의 안정성과 보안을 보장합니다.
> 일반적인 응용 프로그램은 모두 default로 user mode로 실행 됩니다.

**주요 특징**:

- 제한된 명령어만 실행 가능
- 하드웨어 자원에 직접 접근 불가
- 시스템 콜을 통해 커널 기능 요청
- 응용 프로그램 오류 발생 시 시스템 전체에 영향을 주지 않음
## 시스템 콜(System Call)
> 사용자 모드의 프로그램이 커널 모드에서만 실행 가능한 작업을 요청할 때 사용하는 인터페이스가 **시스템 콜**입니다. 시스템 콜을 통해 사용자 모드에서 커널 모드로 전환되며, CPU는 현재 작업을 백업한 후 커널에서 해당 작업을 수행합니다. 작업이 완료되면 다시 사용자 모드로 복귀합니다.
## 결론
>  user mode로 시행되는 프로그램은 운영체제에 system call을 통해 kernel mode로 실행 가능한 명령어를 실행할 수 있습니다.
>  그래서 system call 명령이 실행되면, CPU는 지금까지의 작업을 백업하고, kernel 영역의 코드가 수행되고 이후 사용자 영역으로 복귀 합니다.

